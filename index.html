<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>عدّاد الكلمات | Word Counter</title>
  <meta name="description" content="أداة مجانية لعد الكلمات والحروف والجمل في النصوص العربية والإنجليزية">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;500;700&display=swap" rel="stylesheet">
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Tajawal', sans-serif;
      background: linear-gradient(135deg, #1a1a2e 0%, #16213e 50%, #0f3460 100%);
      min-height: 100vh;
      padding: 20px;
      color: #fff;
    }

    .container {
      max-width: 900px;
      margin: 0 auto;
    }

    header {
      text-align: center;
      padding: 40px 0;
    }

    h1 {
      font-size: 2.8rem;
      font-weight: 700;
      background: linear-gradient(90deg, #e94560, #ff6b6b, #feca57);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      margin-bottom: 10px;
    }

    .subtitle {
      color: #a0a0a0;
      font-size: 1.1rem;
    }

    .main-card {
      background: rgba(255, 255, 255, 0.05);
      backdrop-filter: blur(10px);
      border-radius: 24px;
      padding: 30px;
      border: 1px solid rgba(255, 255, 255, 0.1);
      box-shadow: 0 25px 50px rgba(0, 0, 0, 0.3);
    }

    .textarea-wrapper {
      position: relative;
      margin-bottom: 25px;
    }

    textarea {
      width: 100%;
      min-height: 250px;
      padding: 20px;
      font-family: 'Tajawal', sans-serif;
      font-size: 1.1rem;
      line-height: 1.8;
      background: rgba(255, 255, 255, 0.08);
      border: 2px solid rgba(255, 255, 255, 0.1);
      border-radius: 16px;
      color: #fff;
      resize: vertical;
      transition: all 0.3s ease;
    }

    textarea:focus {
      outline: none;
      border-color: #e94560;
      background: rgba(255, 255, 255, 0.12);
      box-shadow: 0 0 30px rgba(233, 69, 96, 0.2);
    }

    textarea::placeholder {
      color: #666;
    }

    .actions {
      display: flex;
      gap: 10px;
      margin-bottom: 25px;
      flex-wrap: wrap;
    }

    .btn {
      padding: 12px 24px;
      border: none;
      border-radius: 12px;
      font-family: 'Tajawal', sans-serif;
      font-size: 1rem;
      font-weight: 500;
      cursor: pointer;
      transition: all 0.3s ease;
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .btn-primary {
      background: linear-gradient(135deg, #e94560, #ff6b6b);
      color: #fff;
    }

    .btn-primary:hover {
      transform: translateY(-2px);
      box-shadow: 0 10px 30px rgba(233, 69, 96, 0.4);
    }

    .btn-secondary {
      background: rgba(255, 255, 255, 0.1);
      color: #fff;
      border: 1px solid rgba(255, 255, 255, 0.2);
    }

    .btn-secondary:hover {
      background: rgba(255, 255, 255, 0.2);
    }

    .stats-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
      gap: 15px;
      margin-bottom: 25px;
    }

    .stat-card {
      background: rgba(255, 255, 255, 0.05);
      border-radius: 16px;
      padding: 20px;
      text-align: center;
      border: 1px solid rgba(255, 255, 255, 0.08);
      transition: all 0.3s ease;
    }

    .stat-card:hover {
      transform: translateY(-5px);
      background: rgba(255, 255, 255, 0.1);
      border-color: rgba(233, 69, 96, 0.3);
    }

    .stat-value {
      font-size: 2.5rem;
      font-weight: 700;
      background: linear-gradient(135deg, #e94560, #feca57);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      margin-bottom: 5px;
    }

    .stat-label {
      color: #a0a0a0;
      font-size: 0.9rem;
    }

    .extra-stats {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 15px;
      padding: 20px;
      background: rgba(0, 0, 0, 0.2);
      border-radius: 16px;
      margin-bottom: 25px;
    }

    .extra-stat {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 10px 0;
      border-bottom: 1px solid rgba(255, 255, 255, 0.05);
    }

    .extra-stat:last-child {
      border-bottom: none;
    }

    .extra-stat-label {
      color: #888;
    }

    .extra-stat-value {
      color: #feca57;
      font-weight: 600;
    }

    .reading-time {
      text-align: center;
      padding: 20px;
      background: linear-gradient(135deg, rgba(233, 69, 96, 0.1), rgba(254, 202, 87, 0.1));
      border-radius: 16px;
      border: 1px solid rgba(233, 69, 96, 0.2);
    }

    .reading-time-value {
      font-size: 1.8rem;
      font-weight: 700;
      color: #feca57;
    }

    .reading-time-label {
      color: #a0a0a0;
      margin-top: 5px;
    }

    footer {
      text-align: center;
      padding: 30px;
      color: #666;
      font-size: 0.9rem;
    }

    footer a {
      color: #e94560;
      text-decoration: none;
    }

    footer a:hover {
      text-decoration: underline;
    }

    .lang-toggle {
      position: absolute;
      top: 20px;
      left: 20px;
    }

    .lang-btn {
      background: rgba(255, 255, 255, 0.1);
      border: 1px solid rgba(255, 255, 255, 0.2);
      color: #fff;
      padding: 8px 16px;
      border-radius: 8px;
      cursor: pointer;
      font-family: 'Tajawal', sans-serif;
      font-size: 0.9rem;
      transition: all 0.3s ease;
    }

    .lang-btn:hover {
      background: rgba(255, 255, 255, 0.2);
    }

    .toast {
      position: fixed;
      bottom: 30px;
      left: 50%;
      transform: translateX(-50%) translateY(100px);
      background: linear-gradient(135deg, #e94560, #ff6b6b);
      color: #fff;
      padding: 15px 30px;
      border-radius: 12px;
      font-weight: 500;
      box-shadow: 0 10px 40px rgba(233, 69, 96, 0.4);
      transition: transform 0.3s ease;
      z-index: 1000;
    }

    .toast.show {
      transform: translateX(-50%) translateY(0);
    }

    @media (max-width: 600px) {
      h1 {
        font-size: 2rem;
      }

      .main-card {
        padding: 20px;
      }

      .stat-value {
        font-size: 2rem;
      }

      .actions {
        flex-direction: column;
      }

      .btn {
        justify-content: center;
      }
    }

    /* Animation */
    @keyframes fadeIn {
      from {
        opacity: 0;
        transform: translateY(20px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    .main-card {
      animation: fadeIn 0.6s ease;
    }

    .stat-card {
      animation: fadeIn 0.6s ease;
      animation-fill-mode: both;
    }

    .stat-card:nth-child(1) { animation-delay: 0.1s; }
    .stat-card:nth-child(2) { animation-delay: 0.2s; }
    .stat-card:nth-child(3) { animation-delay: 0.3s; }
    .stat-card:nth-child(4) { animation-delay: 0.4s; }
    .stat-card:nth-child(5) { animation-delay: 0.5s; }
  </style>
</head>
<body>
  <button class="lang-btn" onclick="toggleLang()">English</button>

  <div class="container">
    <header>
      <h1 data-ar="عدّاد الكلمات" data-en="Word Counter">عدّاد الكلمات</h1>
      <p class="subtitle" data-ar="أداة ذكية لتحليل النصوص العربية والإنجليزية" data-en="Smart tool for analyzing Arabic and English texts">أداة ذكية لتحليل النصوص العربية والإنجليزية</p>
    </header>

    <div class="main-card">
      <div class="textarea-wrapper">
        <textarea 
          id="textInput" 
          placeholder="اكتب أو الصق النص هنا..."
          data-placeholder-ar="اكتب أو الصق النص هنا..."
          data-placeholder-en="Type or paste your text here..."
        ></textarea>
      </div>

      <div class="actions">
        <button class="btn btn-primary" onclick="copyText()">
          <svg width="18" height="18" fill="currentColor" viewBox="0 0 16 16">
            <path d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1h1a1 1 0 0 1 1 1V14a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3.5a1 1 0 0 1 1-1h1v-1z"/>
            <path d="M9.5 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3zm-3-1A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3z"/>
          </svg>
          <span data-ar="نسخ النص" data-en="Copy Text">نسخ النص</span>
        </button>
        <button class="btn btn-secondary" onclick="clearText()">
          <svg width="18" height="18" fill="currentColor" viewBox="0 0 16 16">
            <path d="M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6z"/>
            <path fill-rule="evenodd" d="M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118zM2.5 3V2h11v1h-11z"/>
          </svg>
          <span data-ar="مسح" data-en="Clear">مسح</span>
        </button>
        <button class="btn btn-secondary" onclick="pasteText()">
          <svg width="18" height="18" fill="currentColor" viewBox="0 0 16 16">
            <path fill-rule="evenodd" d="M10 1.5a.5.5 0 0 0-.5-.5h-3a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 .5.5h3a.5.5 0 0 0 .5-.5v-1Zm-5 0A1.5 1.5 0 0 1 6.5 0h3A1.5 1.5 0 0 1 11 1.5v1A1.5 1.5 0 0 1 9.5 4h-3A1.5 1.5 0 0 1 5 2.5v-1Zm-2 0h1v1A2.5 2.5 0 0 0 6.5 5h3A2.5 2.5 0 0 0 12 2.5v-1h1a2 2 0 0 1 2 2V14a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V3.5a2 2 0 0 1 2-2Z"/>
          </svg>
          <span data-ar="لصق" data-en="Paste">لصق</span>
        </button>
      </div>

      <div class="stats-grid">
        <div class="stat-card">
          <div class="stat-value" id="wordCount">0</div>
          <div class="stat-label" data-ar="كلمة" data-en="Words">كلمة</div>
        </div>
        <div class="stat-card">
          <div class="stat-value" id="charCount">0</div>
          <div class="stat-label" data-ar="حرف" data-en="Characters">حرف</div>
        </div>
        <div class="stat-card">
          <div class="stat-value" id="charNoSpaceCount">0</div>
          <div class="stat-label" data-ar="حرف (بدون مسافات)" data-en="Chars (no spaces)">حرف (بدون مسافات)</div>
        </div>
        <div class="stat-card">
          <div class="stat-value" id="sentenceCount">0</div>
          <div class="stat-label" data-ar="جملة" data-en="Sentences">جملة</div>
        </div>
        <div class="stat-card">
          <div class="stat-value" id="paragraphCount">0</div>
          <div class="stat-label" data-ar="فقرة" data-en="Paragraphs">فقرة</div>
        </div>
      </div>

      <div class="extra-stats">
        <div class="extra-stat">
          <span class="extra-stat-label" data-ar="متوسط طول الكلمة" data-en="Avg. word length">متوسط طول الكلمة</span>
          <span class="extra-stat-value" id="avgWordLength">0</span>
        </div>
        <div class="extra-stat">
          <span class="extra-stat-label" data-ar="أطول كلمة" data-en="Longest word">أطول كلمة</span>
          <span class="extra-stat-value" id="longestWord">-</span>
        </div>
        <div class="extra-stat">
          <span class="extra-stat-label" data-ar="الكلمات الفريدة" data-en="Unique words">الكلمات الفريدة</span>
          <span class="extra-stat-value" id="uniqueWords">0</span>
        </div>
        <div class="extra-stat">
          <span class="extra-stat-label" data-ar="نسبة العربية" data-en="Arabic ratio">نسبة العربية</span>
          <span class="extra-stat-value" id="arabicRatio">0%</span>
        </div>
      </div>

      <div class="reading-time">
        <div class="reading-time-value" id="readingTime">0</div>
        <div class="reading-time-label" data-ar="دقيقة للقراءة" data-en="minutes to read">دقيقة للقراءة</div>
      </div>
    </div>

    <footer>
      <span data-ar="صُنع بـ ❤️ بواسطة" data-en="Made with ❤️ by">صُنع بـ ❤️ بواسطة</span>
      <a href="https://github.com" target="_blank">GitHub</a>
    </footer>
  </div>

  <div class="toast" id="toast"></div>

  <script>
    let currentLang = 'ar';

    const textInput = document.getElementById('textInput');

    // Count functions
    function countWords(text) {
      if (!text.trim()) return 0;
      // يدعم العربية والإنجليزية
      const words = text.trim().split(/[\s\n]+/).filter(word => word.length > 0);
      return words.length;
    }

    function countSentences(text) {
      if (!text.trim()) return 0;
      // يدعم علامات الترقيم العربية والإنجليزية
      const sentences = text.split(/[.!?؟。！]+/).filter(s => s.trim().length > 0);
      return sentences.length;
    }

    function countParagraphs(text) {
      if (!text.trim()) return 0;
      const paragraphs = text.split(/\n\s*\n/).filter(p => p.trim().length > 0);
      return paragraphs.length || (text.trim() ? 1 : 0);
    }

    function getWords(text) {
      if (!text.trim()) return [];
      return text.trim().split(/[\s\n]+/).filter(word => word.length > 0);
    }

    function calculateArabicRatio(text) {
      if (!text.trim()) return 0;
      const arabicChars = (text.match(/[\u0600-\u06FF]/g) || []).length;
      const allChars = text.replace(/\s/g, '').length;
      return allChars > 0 ? Math.round((arabicChars / allChars) * 100) : 0;
    }

    function updateStats() {
      const text = textInput.value;
      const words = getWords(text);

      // Basic stats
      document.getElementById('wordCount').textContent = words.length.toLocaleString();
      document.getElementById('charCount').textContent = text.length.toLocaleString();
      document.getElementById('charNoSpaceCount').textContent = text.replace(/\s/g, '').length.toLocaleString();
      document.getElementById('sentenceCount').textContent = countSentences(text).toLocaleString();
      document.getElementById('paragraphCount').textContent = countParagraphs(text).toLocaleString();

      // Extra stats
      const avgLength = words.length > 0 
        ? (words.join('').length / words.length).toFixed(1) 
        : 0;
      document.getElementById('avgWordLength').textContent = avgLength;

      const longestWord = words.length > 0 
        ? words.reduce((a, b) => a.length >= b.length ? a : b, '')
        : '-';
      document.getElementById('longestWord').textContent = longestWord.length > 15 
        ? longestWord.substring(0, 15) + '...' 
        : longestWord;

      const uniqueWords = new Set(words.map(w => w.toLowerCase())).size;
      document.getElementById('uniqueWords').textContent = uniqueWords.toLocaleString();

      document.getElementById('arabicRatio').textContent = calculateArabicRatio(text) + '%';

      // Reading time (200 words per minute average)
      const readingTime = Math.ceil(words.length / 200);
      document.getElementById('readingTime').textContent = readingTime;
    }

    textInput.addEventListener('input', updateStats);

    // Action functions
    function copyText() {
      if (textInput.value) {
        navigator.clipboard.writeText(textInput.value);
        showToast(currentLang === 'ar' ? 'تم نسخ النص!' : 'Text copied!');
      }
    }

    function clearText() {
      textInput.value = '';
      updateStats();
      textInput.focus();
    }

    async function pasteText() {
      try {
        const text = await navigator.clipboard.readText();
        textInput.value = text;
        updateStats();
        showToast(currentLang === 'ar' ? 'تم لصق النص!' : 'Text pasted!');
      } catch (err) {
        showToast(currentLang === 'ar' ? 'لا يمكن الوصول للحافظة' : 'Cannot access clipboard');
      }
    }

    function showToast(message) {
      const toast = document.getElementById('toast');
      toast.textContent = message;
      toast.classList.add('show');
      setTimeout(() => toast.classList.remove('show'), 2000);
    }

    // Language toggle
    function toggleLang() {
      currentLang = currentLang === 'ar' ? 'en' : 'ar';
      document.documentElement.lang = currentLang;
      document.documentElement.dir = currentLang === 'ar' ? 'rtl' : 'ltr';
      
      document.querySelector('.lang-btn').textContent = currentLang === 'ar' ? 'English' : 'عربي';
      
      document.querySelectorAll('[data-ar]').forEach(el => {
        el.textContent = el.getAttribute(`data-${currentLang}`);
      });

      textInput.placeholder = textInput.getAttribute(`data-placeholder-${currentLang}`);
    }

    // Initialize
    updateStats();
  </script>
</body>
</html>
